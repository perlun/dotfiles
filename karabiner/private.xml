<?xml version="1.0"?>
<root>
  <list>
    <!--

    To use:

      cd ~/Library/Application Support/Karabiner
      ln -sf ~/git/dotfiles/karabiner/private.xml

    Then reload private.xml in the Karabiner preferences.

    In addition to the re-mappings below, I have the following options enabled for a truly PC-similar experience:

    - Control_L to Fn (disabled for now, will parameterize to only run on internal keyboard)
    - Fn to Control_L
    - Command-left/right arrow to option-left/right arrow
    - Use PC-style Home/End
    - Use PC-style Copy/Paste
    - Use PC-style Undo
    - Use PC-style Save
    - Use PC-style New tab
    - Use PC-style Find

    -->
    <!-- This one was found at http://myhomenet.blogspot.fi/2011/06/restoring-backslash-and-pipe-to-where.html, tweaked to not conflict with the braces. -->
    <item>
      <name>Change Control+A to Command+A (except virtual machine, RDC, terminal)</name>
      <identifier>remap.commandA2controlA</identifier>
      <not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION, TERMINAL</not>
      <autogen>--KeyToKey-- KeyCode::A, VK_CONTROL, KeyCode::A, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>Change Control+O to Command+O (except virtual machine, RDC, terminal)</name>
      <identifier>remap.commandO2controlO</identifier>
      <not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION, TERMINAL</not>
      <autogen>--KeyToKey-- KeyCode::O, VK_CONTROL, KeyCode::O, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>Change Control+Q to Command+Q (except virtual machine, RDC)</name>
      <identifier>remap.commandQ2controlQ</identifier>
      <not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION</not>
      <autogen>--KeyToKey-- KeyCode::Q, VK_CONTROL, KeyCode::Q, ModifierFlag::COMMAND_L</autogen>
    </item>

    <item>
      <name>Change Control+R to Command+R (except virtual machine, RDC, terminal)</name>
      <identifier>remap.commandR2controlR</identifier>
      <not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION, TERMINAL</not>
      <autogen>--KeyToKey-- KeyCode::R, VK_CONTROL, KeyCode::R, ModifierFlag::COMMAND_L</autogen>
    </item>

    <!-- There is an option in the KeyRemap4MacBook defaults that let you remap Control+W, but only in Firefox... I want it in other apps also, like Chrome and Terminal. -->
    <item>
      <name>Change Control+W to Command+W (except virtual machine, RDC, terminal)</name>
      <identifier>remap.commandW2controlW</identifier>
      <not>VIRTUALMACHINE, REMOTEDESKTOPCONNECTION, TERMINAL</not>
      <autogen>--KeyToKey-- KeyCode::W, VK_CONTROL, KeyCode::W, ModifierFlag::COMMAND_L</autogen>
    </item>

    <!-- Found at https://github.com/tekezo/Files/blob/master/KeyRemap4MacBook/private.control_functional_to_control_fkeys/private.xml -->
    <item>
      <name>Control+Functional to Control+Fkeys</name>
      <identifier>private.control_functional_to_control_fkeys</identifier>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::BRIGHTNESS_DOWN,    VK_CONTROL, KeyCode::F1,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::BRIGHTNESS_UP,      VK_CONTROL, KeyCode::F2,  VK_CONTROL</autogen>
      <autogen>--KeyToKey--      KeyCode::EXPOSE_ALL,                 VK_CONTROL, KeyCode::F3,  VK_CONTROL</autogen>
      <autogen>--KeyToKey--      KeyCode::DASHBOARD,                  VK_CONTROL, KeyCode::F4,  VK_CONTROL</autogen>
      <autogen>--KeyToKey--      KeyCode::LAUNCHPAD,                  VK_CONTROL, KeyCode::F4,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::KEYBOARDLIGHT_LOW,  VK_CONTROL, KeyCode::F5,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::KEYBOARDLIGHT_HIGH, VK_CONTROL, KeyCode::F6,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::MUSIC_PREV,         VK_CONTROL, KeyCode::F7,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::MUSIC_PLAY,         VK_CONTROL, KeyCode::F8,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::MUSIC_NEXT,         VK_CONTROL, KeyCode::F9,  VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::VOLUME_MUTE,        VK_CONTROL, KeyCode::F10, VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::VOLUME_DOWN,        VK_CONTROL, KeyCode::F11, VK_CONTROL</autogen>
      <autogen>--ConsumerToKey-- ConsumerKeyCode::VOLUME_UP,          VK_CONTROL, KeyCode::F12, VK_CONTROL</autogen>
    </item>
  </list>
</root>
